{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Engagement Management Skill Contract",
  "description": "Input/Output contract for skill_engagement_manage",
  "input": {
    "type": "object",
    "properties": {
      "action": {
        "type": "string",
        "enum": ["reply", "like", "follow", "comment", "share"],
        "description": "Type of engagement action"
      },
      "platform": {
        "type": "string",
        "enum": ["twitter", "instagram", "tiktok", "threads"],
        "description": "Target social media platform"
      },
      "target": {
        "type": "string",
        "description": "Target post/comment/user ID"
      },
      "content": {
        "type": "string",
        "description": "Content for reply/comment (required for reply/comment actions)"
      },
      "persona_constraints": {
        "type": "array",
        "items": {"type": "string"},
        "description": "Persona constraints to apply"
      }
    },
    "required": ["action", "platform", "target"]
  },
  "output": {
    "type": "object",
    "properties": {
      "status": {
        "type": "string",
        "enum": ["success", "pending", "failed"],
        "description": "Status of engagement action"
      },
      "engagement_id": {
        "type": "string",
        "description": "ID of created engagement (if successful)"
      },
      "platform_response": {
        "type": "object",
        "description": "Raw response from platform API"
      },
      "error": {
        "type": "object",
        "properties": {
          "code": {"type": "string"},
          "message": {"type": "string"}
        },
        "description": "Error details (if status is failed)"
      }
    },
    "required": ["status"]
  }
}
